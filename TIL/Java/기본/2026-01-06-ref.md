# 2026-01-06: Java 기본형과 참조형 (Primitive vs Reference) 학습

- 📚 **강의**: 김영한의 자바 기본 섹션 3

오늘은 자바의 데이터 타입인 **기본형(Primitive Type)**과 **참조형(Reference Type)**의 차이점에 대해 깊이 있게 학습했다.

## 1. 기본형 vs 참조형

자바의 데이터 타입은 크게 두 가지로 나뉜다.

### 기본형 (Primitive Type)
- **종류**: `int`, `long`, `float`, `double`, `boolean` 등
- **특징**: 변수에 사용할 **값(Value)**을 직접 저장한다.
- **계산**: 값 자체가 들어있으므로 산술 연산이 가능하다.
- **소문자 시작**: 타입 이름이 소문자로 시작한다.

### 참조형 (Reference Type)
- **종류**: 클래스(`Student`), 배열(`int[]`) 등
- **특징**: 데이터에 접근하기 위한 **참조(주소, Reference)**를 저장한다. 객체나 배열은 메모리 어딘가에 생성되고, 변수는 그 위치를 가리킨다.
- **계산**: 참조값(주소)만 들어있으므로 산술 연산이 불가능하다. (단, `.`, `[]`를 통해 실체에 접근하여 내부 값으로 계산은 가능)
- **대문자 시작**: 클래스는 대문자로 시작한다.

> **예외: String**
> `String`은 클래스이므로 참조형이지만, 자바에서 문자열은 매우 자주 사용되므로 기본형처럼 값을 바로 대입할 수 있는 편의 기능을 제공한다. 또한 `+` 연산을 통해 문자열 연결이 가능하다.

## 2. 대입과 메서드 호출

> **"자바는 항상 변수의 값을 복사해서 대입한다."**

- **기본형 변수 대입**: 변수에 들어있는 **실제 값**이 복사되어 전달된다.
- **참조형 변수 대입**: 변수에 들어있는 **참조값(주소)**이 복사되어 전달된다. 따라서 두 변수는 같은 객체(인스턴스)를 가리키게 된다.

참조형의 경우 메서드로 객체를 전달하고 내부에서 멤버 변수를 변경하면, 원본 객체의 값도 함께 변경된다. 이는 주소를 공유하기 때문이다.

## 3. null과 NullPointerException

### null
참조형 변수에 아직 가리키는 객체가 없음을 나타낼 때 사용한다. '참조값이 없다'는 의미다.
- **GC (Garbage Collection)**: 아무도 참조하지 않는 인스턴스는 JVM의 가비지 컬렉터가 메모리에서 자동으로 제거한다.

### NullPointerException
참조값이 없는(`null`) 변수에 접근(`.` 또는 `[]`)하려고 할 때 발생하는 예외다. "주소가 없는데 찾아가려고 해서 발생하는 오류"라고 이해하면 된다.

```java
Data data = null;
data.value = 10; // NullPointerException 발생
```

## 4. 멤버 변수 초기화

- **지역 변수**: 반드시 개발자가 직접 초기화해야 한다.
- **멤버 변수(필드)**: 초기화하지 않으면 자바가 자동으로 기본값으로 초기화해준다.
    - 숫자(`int`, `long` 등): `0`
    - `boolean`: `false`
    - 참조형: `null`

## 5. 실습 및 코드 비교 (`ProductOrderMain`)

`Class1` 패키지의 실습 코드와 `Ref` 패키지의 실습 코드를 비교해보면, 참조형의 특징을 활용한 **리펙토링**의 효과를 확인할 수 있다.

### 5.1. 메서드 도입과 모듈화
- **기존 코드 (`basic.class1.ex`)**: `main` 메서드 안에 객체 생성, 초기화, 출력, 금액 계산 로직이 모두 들어있어 코드가 길고 복잡하다.
- **개선된 코드 (`basic.ref.ex`)**:
    - `createOrder()`: 객체 생성과 초기화를 담당하고 **생성된 객체의 참조값**을 반환한다.
    - `printOrders()`: 배열을 전달받아 상품 정보를 출력한다. (참조값 전달)
    - `getTotalAmount()`: 배열을 전달받아 총 결제 금액을 계산하여 반환한다.

### 5.2. 참조값 전달의 유용성
메서드를 사용함으로써 코드가 기능별로 분리되어 가독성이 매우 좋아졌다. 이것이 가능한 이유는 메서드 호출 시 **객체의 참조값**만 전달하면, 메서드 내부에서 해당 객체에 접근하여 데이터를 읽거나 수정할 수 있기 때문이다.

```java
// 객체를 생성하고 참조값을 반환받음
orders[i] = createOrder(productName, price, quantity);

// 참조값을 전달하여 출력 처리
printOrders(orders);
```
