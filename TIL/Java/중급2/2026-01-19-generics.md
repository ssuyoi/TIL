# 2026-01-19: Java 제네릭 (Generic)

- 📚 **강의**: 김영한의 자바 중급2 섹션 2, 3

오늘은 컴파일 타임에 강력한 타입 체크를 지원하고, 코드 중복을 제거할 수 있는 **제네릭(Generic)**에 대해 학습했다.

## 1. 제네릭이 필요한 이유

다양한 타입을 담을 수 있는 컨테이너(`Box`)를 만든다고 가정해보자.
- **중복 코드**: `IntegerBox`, `StringBox`처럼 타입별로 클래스를 계속 만들어야 한다.
- **Object 사용 (다형성)**: `ObjectBox` 하나로 모든 타입을 담을 수는 있지만, 꺼낼 때마다 **다운 캐스팅(Down Casting)**을 해야 하고, 실수로 다른 타입을 넣어도 컴파일 시점에 잡지 못해 **타입 안전성(Type Safety)**이 떨어진다.

이 두 가지 문제(코드 재사용성, 타입 안전성)를 모두 해결하기 위해 제네릭이 등장했다.

## 2. 제네릭 적용

클래스나 메서드 내부에서 사용할 데이터 타입을 미리 정하지 않고, **외부에서 지정**하도록 하는 기능이다.

```java
public class GenericBox<T> {
    private T value;
    
    public void set(T value) { this.value = value; }
    public T get() { return value; }
}
```

- `Integer`전용 박스가 필요하면 `new GenericBox<Integer>()`로 생성하면 된다. 컴파일러가 타입을 체크해주므로 안전하다.

## 3. 제네릭 용어와 관례

- **타입 매개변수 (Type Parameter)**: `T`, `K`, `V` 등 (선언부)
- **타입 인자 (Type Argument)**: `Integer`, `String` 등 (사용부)
- **명명 관례**:
    - `E`: Element (요소)
    - `K`: Key (키)
    - `V`: Value (값)
    - `T`: Type (타입)

## 4. 타입 매개변수 제한 (Bounded Type Parameter)

제네릭 타입 `T`는 기본적으로 `Object`의 기능만 사용할 수 있다. 만약 `Animal`의 기능을 사용하고 싶다면 **범위를 제한**해야 한다.

```java
public <T extends Animal> void soundAnimal(T t) {
    t.sound(); // Animal의 메서드 호출 가능!
}
```

- `<T extends Animal>`: `Animal`과 그 자식 타입만 들어올 수 있다.

## 5. 제네릭 메서드

클래스 전체가 아니라 특정 메서드에만 제네릭을 적용할 수 있다. 특히 `static` 메서드는 클래스의 제네릭 타입 `T`를 사용할 수 없으므로, 독자적인 제네릭 메서드로 정의해야 한다.

```java
public static <T> T genericMethod(T t) { ... }
```

## 6. 와일드카드 (Wildcard)

제네릭 타입을 좀 더 유연하게 사용할 때 쓴다. 주로 메서드의 매개변수 타입에 사용된다.
- `<?>`: 모든 타입 가능 (`<? extends Object>`와 동일)
- `<? extends Animal>`: **상한 제한**. Animal과 그 자식들만 가능. (값을 꺼낼 때 안심하고 Animal로 받을 수 있음)
- `<? super Animal>`: **하한 제한**. Animal과 그 부모들만 가능. (값을 저장할 때 안심하고 Dog 등을 넣을 수 있음)

## 7. 타입 이레이저 (Type Erasure)

제네릭은 **컴파일 타임에만 존재**하고, 컴파일 후(Runtime)에는 사라진다. 이를 **타입 이레이저**라고 한다.
- 컴파일러가 타입 검사를 마치면, 제네릭 타입 정보(`T`)를 지우고 `Object`(제한된 경우 `Animal`)로 치환한다. 
- 그리고 필요한 곳에 자동으로 캐스팅 코드를 넣어준다.
- **이유**: 자바 이전 버전과의 하위 호환성을 유지하기 위해서다.
