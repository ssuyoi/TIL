# 2026-01-22: Java HashSet êµ¬í˜„ (Set)

- ğŸ“š **ê°•ì˜**: ê¹€ì˜í•œì˜ ìë°” ì¤‘ê¸‰2 ì„¹ì…˜ 8 HashSet

ì˜¤ëŠ˜ì€ í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ì„ ì‹¤ì œë¡œ êµ¬í˜„í•œ ìë£Œêµ¬ì¡°ì¸ **HashSet**ê³¼, ìë°”ì˜ ëª¨ë“  ê°ì²´ë¥¼ í•´ì‹œ ìë£Œêµ¬ì¡°ì— ì €ì¥í•˜ê¸° ìœ„í•œ **hashCode(), equals()**ì˜ ì¤‘ìš”ì„±ì— ëŒ€í•´ í•™ìŠµí–ˆë‹¤.

## 1. ì§ì ‘ êµ¬í˜„í•œ HashSet (MyHashSet)

ì•ì„œ ë°°ìš´ í•´ì‹œ ì•Œê³ ë¦¬ì¦˜(ë°°ì—´ + ì—°ê²° ë¦¬ìŠ¤íŠ¸)ì„ ì‚¬ìš©í•˜ì—¬ `Set` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ë³´ì•˜ë‹¤. `Set`ì€ **ì¤‘ë³µì„ í—ˆìš©í•˜ì§€ ì•Šê³  ìˆœì„œê°€ ì—†ëŠ”** ìë£Œêµ¬ì¡°ë‹¤.

- **ì €ì¥ (`add`)**:
    1.  ë°ì´í„°ì˜ í•´ì‹œ ì½”ë“œë¥¼ êµ¬í•´ì„œ ì¸ë±ìŠ¤ë¥¼ ê²°ì •í•œë‹¤.
    2.  í•´ë‹¹ ì¸ë±ìŠ¤ì˜ ë¦¬ìŠ¤íŠ¸ì— **ì´ë¯¸ ê°™ì€ ê°’ì´ ìˆëŠ”ì§€ í™•ì¸**í•œë‹¤. (ì¤‘ë³µ ì²´í¬ `O(1)`)
    3.  ì—†ìœ¼ë©´ ì €ì¥í•˜ê³  `true` ë°˜í™˜, ìˆìœ¼ë©´ ì €ì¥í•˜ì§€ ì•Šê³  `false` ë°˜í™˜.
- **ê²€ìƒ‰ (`contains`)**: í•´ì‹œ ì¸ë±ìŠ¤ë¡œ ë²„í‚·ì„ ì°¾ê³ , ê°’ì„ ë¹„êµí•œë‹¤.

```java
public class MyHashSetV2 {
    private LinkedList<Object>[] buckets;

    public boolean add(Object value) {
        int hashIndex = hashIndex(value);
        LinkedList<Object> bucket = buckets[hashIndex];
        
        if (bucket.contains(value)) { // ì¤‘ë³µ ì²´í¬
            return false; 
        }
        bucket.add(value);
        return true;
    }

    public boolean contains(Object value) {
        int hashIndex = hashIndex(value);
        LinkedList<Object> bucket = buckets[hashIndex];
        return bucket.contains(value); // ë¦¬ìŠ¤íŠ¸ ë‚´ ê²€ìƒ‰
    }

    private int hashIndex(Object value) {
        // ìë°”ì˜ hashCode()ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ë±ìŠ¤ ê²°ì •
        return Math.abs(value.hashCode()) % buckets.length;
    }
}
```

## 2. ìë°”ì˜ hashCode()ì™€ equals()

ìˆ«ìë¿ë§Œ ì•„ë‹ˆë¼ ê°ì²´(Member, String ë“±)ë„ í•´ì‹œ ìë£Œêµ¬ì¡°ì— ì €ì¥í•˜ë ¤ë©´ ì •ìˆ˜ë¡œ ëœ í•´ì‹œ ì½”ë“œê°€ í•„ìš”í•˜ë‹¤. ì´ë¥¼ ìœ„í•´ ìë°”ì˜ ìµœìƒìœ„ í´ë˜ìŠ¤ `Object`ëŠ” `hashCode()` ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.

- **ê¸°ë³¸ ë™ì‘**: `Object`ì˜ ê¸°ë³¸ `hashCode()`ëŠ” ê°ì²´ì˜ **ë©”ëª¨ë¦¬ ì£¼ì†Œ**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±í•œë‹¤. (ì¦‰, ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¤ë¥´ë©´ ë‹¤ë¥¸ ê°’)
- **ì˜¤ë²„ë¼ì´ë”©**:
    - ê°ì²´ì˜ ë‚´ìš©ì´ ê°™ìœ¼ë©´(ë™ë“±ì„±, identityê°€ ì•„ë‹Œ equality) ê°™ì€ í•´ì‹œ ì½”ë“œë¥¼ ë°˜í™˜í•˜ë„ë¡ ì˜¤ë²„ë¼ì´ë”© í•´ì•¼ í•œë‹¤.
    - ê·¸ë˜ì•¼ ë…¼ë¦¬ì ìœ¼ë¡œ ê°™ì€ ê°ì²´ (`new Member("A")` vs `new Member("A")`)ë¥¼ ê°™ì€ ê²ƒìœ¼ë¡œ ì¸ì‹í•˜ê³  ì¤‘ë³µì„ ì œê±°í•  ìˆ˜ ìˆë‹¤.

> **âš ï¸ ì¤‘ìš” ê·œì¹™**:
> - `equals()`ê°€ `true`ë¼ë©´, `hashCode()`ë„ ë°˜ë“œì‹œ **ê°™ì€ ê°’**ì´ì–´ì•¼ í•œë‹¤.
> - í•´ì‹œ ìë£Œêµ¬ì¡°(`HashSet`, `HashMap`)ëŠ” ë¨¼ì € `hashCode()`ë¡œ ëŒ€ëµì ì¸ ìœ„ì¹˜(ë²„í‚·)ë¥¼ ì°¾ê³ , ê·¸ ì•ˆì—ì„œ `equals()`ë¡œ ë°ì´í„°ë¥¼ ìµœì¢… ë¹„êµí•˜ê¸° ë•Œë¬¸ì´ë‹¤.

## 3. ì‹¤ìŠµ: ì§ì ‘ ë§Œë“  í´ë˜ìŠ¤(Member) ì ìš©

`HashSet`ì— ì§ì ‘ ì •ì˜í•œ ê°ì²´(`Member`)ë¥¼ ì €ì¥í•  ë•Œ í”íˆ í•˜ëŠ” ì‹¤ìˆ˜ê°€ ìˆë‹¤.

### ì‹¤íŒ¨ ì‚¬ë¡€ 1: ë‘˜ ë‹¤ ì¬ì •ì˜í•˜ì§€ ì•Šì„ ë•Œ (`MemberNoHashNoEq`)
- `hashCode`ëŠ” ì°¸ì¡°ê°’, `equals`ëŠ” `==` ë¹„êµë¥¼ ìˆ˜í–‰í•œë‹¤.
- `new Member("A")`ì™€ ë˜ ë‹¤ë¥¸ `new Member("A")`ëŠ” ë‹¤ë¥¸ ê°ì²´ë¡œ ì¸ì‹ë˜ì–´ **ì¤‘ë³µ ì €ì¥**ëœë‹¤.

### ì‹¤íŒ¨ ì‚¬ë¡€ 2: hashCodeë§Œ ì¬ì •ì˜í•  ë•Œ (`MemberOnlyHash`)
- ê°™ì€ í•´ì‹œ ì½”ë“œë¥¼ ê°€ì§€ë¯€ë¡œ ê°™ì€ ë²„í‚·ì„ ì°¾ì•„ê°€ì§€ë§Œ, `equals`ê°€ ì˜¤ë²„ë¼ì´ë”© ì•ˆ ë¼ì„œ `==` ë¹„êµë¥¼ í•œë‹¤.
- ë²„í‚· ì•ˆì—ì„œ ê°™ì€ ë°ì´í„°ë¥¼ ì°¾ì§€ ëª»í•´ **ì¤‘ë³µ ì €ì¥**ë˜ê±°ë‚˜ **ê²€ìƒ‰ì— ì‹¤íŒ¨**í•œë‹¤.

### ì„±ê³µ ì‚¬ë¡€ (`Member`)
- `hashCode()`: `Objects.hashCode(id)`ë¥¼ ì‚¬ìš©í•˜ì—¬ IDê°€ ê°™ìœ¼ë©´ ê°™ì€ í•´ì‹œë¥¼ ë°˜í™˜í•œë‹¤.
- `equals()`: ID ê°’ì„ ë¹„êµí•˜ì—¬ ë™ë“±ì„±ì„ í™•ì¸í•œë‹¤.
- ì´ë ‡ê²Œ ë‘˜ ë‹¤ ì˜¬ë°”ë¥´ê²Œ ì¬ì •ì˜í•´ì•¼ë§Œ í•´ì‹œ ìë£Œêµ¬ì¡°ê°€ ì •ìƒ ë™ì‘í•œë‹¤.

```java
public class Member {
    private String id;

    public Member(String id) {
        this.id = id;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Member member = (Member) o;
        return Objects.equals(id, member.id);
    }

    @Override
    public int hashCode() {
        return Objects.hash(id);
    }
}
```
