# 2026-01-26: 스레드 생성과 실행

- 📚 **강의**: 김영한의 자바 고급1 섹션 3

오늘은 멀티스레드 프로그래밍의 기초인 **스레드 생성 방법**과 **실행 원리**(`start` vs `run`), 그리고 **데몬 스레드**에 대해 학습했다.

## 1. 스레드 생성 방법

스레드를 만드는 방법은 크게 두 가지가 있다.

### 1-1. Thread 클래스 상속
Thread 클래스를 직접 상속받아 `run()`을 재정의한다.
- **단점**: 자바는 단일 상속만 허용하므로, 다른 클래스를 상속받을 수 없다. 유연성이 떨어진다.

### 1-2. Runnable 인터페이스 구현 (권장 ✅)
스레드가 실행할 작업 내용을 `Runnable` 인터페이스로 정의하고, 이를 `Thread` 생성자에 전달한다.
- **장점**:
    -   다른 클래스를 상속받을 수 있어 확장성이 좋다.
    -   스레드와 작업(Runnable)이 분리되어 코드가 깔끔하다.
    -   여러 스레드가 같은 Runnable 객체를 공유할 수 있다.

```java
// 권장 방식
Runnable runnable = new HelloRunnable();
Thread thread = new Thread(runnable);
thread.start();
```

## 2. start()와 run()의 차이 (면접 단골 질문!)

스레드를 실행할 때는 반드시 `run()`이 아닌 **`start()`**를 호출해야 한다.

-   **`start()`**: 스레드를 위한 **새로운 스택(Stack) 공간을 할당**하고, 그 위에서 `run()`을 실행한다. (멀티스레드 동작)
-   **`run()`**: 그냥 메인 스레드에서 메서드를 호출하는 것과 같다. **새로운 스레드가 생성되지 않는다.** (싱글스레드 동작)

> **주의**: `run()`을 직접 호출하면 컴파일 오류는 안 나지만, 멀티스레드로 동작하지 않아 프로그램이 멈추거나 예상치 못한 동작을 할 수 있다.

## 3. 데몬 스레드 (Daemon Thread)

-   **사용자 스레드 (User Thread)**: 메인 스레드를 포함하여, 프로그램의 주요 작업을 수행한다. 모든 사용자 스레드가 종료되어야 JVM도 종료된다.
-   **데몬 스레드 (Daemon Thread)**: 백그라운드에서 보조 작업을 수행한다. (예: 가비지 컬렉터, 자동 저장). **모든 사용자 스레드가 종료되면, 데몬 스레드는 강제로 종료된다.**

```java
Thread thread = new Thread(runnable);
thread.setDaemon(true); // 반드시 start() 호출 전에 설정해야 함!
thread.start();
```
