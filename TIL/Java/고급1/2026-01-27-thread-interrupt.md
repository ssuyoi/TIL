# 2026-01-27: μ¤λ λ“ μΈν„°λ½νΈμ™€ μ–‘λ³΄ (Interrupt & Yield)

- π“ **κ°•μ**: κΉ€μν•μ μλ°” κ³ κΈ‰1 μ„Ήμ… 5

μ¤λμ€ μ¤λ λ“λ¥Ό μ°μ•„ν•κ² μΆ…λ£μ‹ν‚¤κ±°λ‚ κΉ¨μ°λ” **μΈν„°λ½νΈ(Interrupt)**μ™€, μ‹¤ν–‰ λ€κΈ° μƒνƒλ΅ λμ•„κ°€ CPUλ¥Ό μ–‘λ³΄ν•λ” **`yield()`**μ— λ€ν•΄ ν•™μµν–λ‹¤.

## 1. μΈν„°λ½νΈ (Interrupt)

### 1-1. λ³€μ μ μ–΄ (`volatile`) μ ν•κ³„
μ¤λ λ“λ¥Ό μΆ…λ£μ‹ν‚¬ λ• `runFlag` κ°™μ€ λ³€μλ¥Ό μ‚¬μ©ν•  μ μλ‹¤. ν•μ§€λ§ μ¤λ λ“κ°€ `sleep()` λ“±μΌλ΅ **λ€κΈ° μƒνƒ**μ— λ“¤μ–΄κ°€ μμΌλ©΄, λ³€μ κ°’μ„ λ°”κΏ”λ„ λ°”λ΅ μ•μ•„μ±„μ§€ λ»ν•λ‹¤.

### 1-2. `interrupt()`μ κΈ°λ¥
`interrupt()` λ©”μ„λ“λ¥Ό νΈμ¶ν•λ©΄:
1.  **λ€κΈ° μƒνƒ(sleep, wait)**μΈ μ¤λ λ“λ¥Ό μ¦‰μ‹ κΉ¨μ΄λ‹¤. -> `InterruptedException` λ°μƒ!
2.  μ‹¤ν–‰ μ¤‘μΈ μ¤λ λ“μ—κ²λ” **μΈν„°λ½νΈ λ°μƒ μƒνƒ**(`true`)λ¥Ό λ‚¨κΈ΄λ‹¤.

### 1-3. μΈν„°λ½νΈ μƒνƒ ν™•μΈ (μ¤‘μ”!)
μ¤λ λ“ λ‚΄λ¶€μ—μ„ μΈν„°λ½νΈκ°€ λ°μƒν–λ”μ§€ ν™•μΈν•  λ• λ‘ κ°€μ§€ λ°©λ²•μ΄ μλ‹¤.

| λ©”μ„λ“ | μ„¤λ… | μƒνƒ μ΄κΈ°ν™” μ—¬λ¶€ | κ¶μ¥ |
| :--- | :--- | :--- | :--- |
| `isInterrupted()` | ν„μ¬ μΈν„°λ½νΈ κ±Έλ Έλ”μ§€ ν™•μΈλ§ ν•¨ | β (μ μ§€) | |
| `Thread.interrupted()` | ν™•μΈ ν›„ **μƒνƒλ¥Ό falseλ΅ λ³€κ²½** | β… (μ΄κΈ°ν™”) | **μ¶”μ²** |

> **μ™ μ΄κΈ°ν™”κ°€ μ¤‘μ”ν•κ°€?**
> μΈν„°λ½νΈ μƒνƒλ¥Ό κ³„μ† `true`λ΅ λ‘λ©΄, μμ› μ •λ¦¬ λ“±μ„ ν•λ‹¤κ°€ λ‚μ¤‘μ— λ‹¤λ¥Έ κ³³μ—μ„ μλ„μΉ μ•κ² λ μΈν„°λ½νΈκ°€ λ°μƒν• κ²ƒμΌλ΅ μ¤ν•΄ν•  μ μλ‹¤. μ²λ¦¬ ν›„μ—λ” κΉ”λ”ν•κ² μƒνƒλ¥Ό κΊΌμ£Όλ” κ²ƒμ΄ μΆ‹λ‹¤.

## 2. Yield - λ‹¤λ¥Έ μ¤λ λ“μ—κ² μ–‘λ³΄ν•κΈ°

`Thread.yield()`λ” μ‹¤ν–‰ μ¤‘μ— **"λ‚ μ§€κΈ κΈ‰ν•μ§€ μ•μΌλ‹ λ‹¤λ¥Έ μ¤λ λ“κ°€ λ¨Όμ € μ‹¤ν–‰ν•΄λ„ λΌ"**λΌκ³  μ–‘λ³΄ν•λ” κ²ƒμ΄λ‹¤.

### λ™μ‘ μ›λ¦¬
-   ν„μ¬ μ‹¤ν–‰ μ¤‘μΈ μ¤λ λ“κ°€ **RUNNABLE** μƒνƒλ¥Ό μ μ§€ν•λ©΄μ„, CPU μμ›μ„ λ°λ‚©ν•κ³  λ‹¤μ‹ μ¤μΌ€μ¤„λ§ ν(λ€κΈ°μ—΄)λ΅ λ“¤μ–΄κ°„λ‹¤.
-   `sleep(100)`κ³Ό λ‹¬λ¦¬ μ λ“¤μ§€ μ•κ³ , κ³§λ°”λ΅ λ‹¤μ‹ μ‹¤ν–‰λ  κΈ°νλ¥Ό μ–»λ”λ‹¤. (μ•„μ£Ό μ§§μ€ ν΄μ‹)

### μ‚¬μ© μμ‹ (Printer)
ν•  μΌμ΄ μ—†μ„ λ•(νκ°€ λΉ„μ—μ„ λ•) λ¬΄μ‘μ • λ£¨ν”„λ¥Ό λλ©΄ CPUλ¥Ό λ‚­λΉ„(Busy Waiting)ν•κ² λλ‹¤. μ΄λ• `yield()`λ¥Ό μ“°λ©΄ ν¨μ¨μ μ΄λ‹¤.

```java
while (!Thread.interrupted()) {
    if (jobQueue.isEmpty()) {
        Thread.yield(); // "λ‚ ν•  μΌ μ—†μΌλ‹ λ‹¤λ¥Έ μ• λ“¤ λ¨Όμ € ν•΄~"
        continue;
    }
    // ... μ‘μ—… μν–‰ ...
}
```
